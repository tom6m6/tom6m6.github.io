<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 5.4.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.11.1","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>


    <meta name="description" content="Islands and Bridges来源    Suppose there are n islands. The value of a Hamilton path C1C2…Cn is calculated as the sum of three parts. Let Vi be the value for the island Ci. As the first part, we sum ove">
<meta property="og:type" content="article">
<meta property="og:title" content="状压DP初步之POJ 2288">
<meta property="og:url" content="http://example.com/2019/03/09/islands-and-bridges-poj2019/index.html">
<meta property="og:site_name" content="tommy&#39;s blog">
<meta property="og:description" content="Islands and Bridges来源    Suppose there are n islands. The value of a Hamilton path C1C2…Cn is calculated as the sum of three parts. Let Vi be the value for the island Ci. As the first part, we sum ove">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-03-09T14:36:14.000Z">
<meta property="article:modified_time" content="2023-01-11T04:16:54.066Z">
<meta property="article:author" content="tommy">
<meta property="article:tag" content="algorithm">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/2019/03/09/islands-and-bridges-poj2019/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://example.com/2019/03/09/islands-and-bridges-poj2019/","path":"2019/03/09/islands-and-bridges-poj2019/","title":"状压DP初步之POJ 2288"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>状压DP初步之POJ 2288 | tommy's blog</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">tommy's blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Islands-and-Bridges"><span class="nav-number">1.</span> <span class="nav-text">Islands and Bridges</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%9D%E6%83%B3"><span class="nav-number">1.1.</span> <span class="nav-text">思想</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F"><span class="nav-number">1.2.</span> <span class="nav-text">注意</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="nav-number">1.3.</span> <span class="nav-text">代码实现</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">1.4.</span> <span class="nav-text">总结</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="tommy"
      src="https://raw.githubusercontent.com/tom6m6/files_upload_blog/main/csman.jpg">
  <p class="site-author-name" itemprop="name">tommy</p>
  <div class="site-description" itemprop="description">知行合一</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">73</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/03/09/islands-and-bridges-poj2019/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://raw.githubusercontent.com/tom6m6/files_upload_blog/main/csman.jpg">
      <meta itemprop="name" content="tommy">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tommy's blog">
      <meta itemprop="description" content="知行合一">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="状压DP初步之POJ 2288 | tommy's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          状压DP初步之POJ 2288
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-03-09 22:36:14" itemprop="dateCreated datePublished" datetime="2019-03-09T22:36:14+08:00">2019-03-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-01-11 12:16:54" itemprop="dateModified" datetime="2023-01-11T12:16:54+08:00">2023-01-11</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="Islands-and-Bridges"><a href="#Islands-and-Bridges" class="headerlink" title="Islands and Bridges"></a>Islands and Bridges</h1><p><a target="_blank" rel="noopener" href="http://poj.org/problem?id=2288">来源</a>  </p>
<blockquote>
<p>Suppose there are n islands. The value of a Hamilton path C1C2…Cn is calculated as the sum of three parts. Let Vi be the value for the island Ci. As the first part, we sum over all the Vi values for each island in the path. For the second part, for each edge CiCi+1 in the path, we add the product Vi<em>Vi+1. And for the third part, whenever three consecutive islands CiCi+1Ci+2 in the path forms a triangle in the map, i.e. there is a bridge between Ci and Ci+2, we add the product Vi</em>Vi+1*Vi+2. </p>
</blockquote>
<blockquote>
<p>Most likely but not necessarily, the best triangular Hamilton path you are going to find contains many triangles. It is quite possible that there might be more than one best triangular Hamilton paths; your second task is to find the number of such paths. </p>
</blockquote>
<p>以上是本题的描述，好像做了一篇英语阅读理解～～，为了更好解题，手动翻译：<br>假设有n个岛，一条汉密尔顿路C1C2…Cn 由三部分的和计算。让Vi成为岛Ci的价值。作为第一部分，我们将路径上所有Vi相加；作为第二部分，对于每一条边CiCi+1，我们增加Vi<em>V(i+1)；作为第三部分，当路径上的CiCi+1Ci+2形成了一个三角形，即Ci与Ci+2之间有较大距离时，我们增加Vi</em>V(i+1)V(i+2)<br>最有可能但不一定，你要找到的的最佳三角形哈密尔顿路包含许多三角形。你的第二个任务是找到这样的路径数量。<br>目的就是求最大价值并找到路径数量。<br><br>总权值包括三部分<br><br>第1部分，v[i]之和<br><br>第2部分，v[i]<em>v[i+1]之和<br><br>第3部分，如果岛屿c[i]与岛屿c[i+2]也是相通的，即岛屿c[i]，c[i+1]，c[i+2]构成了一个三角关系，v[i]</em>[i+1]*[i+2]之和<br>  </p>
<blockquote>
<p>哈密尔顿回路：在一个无向图中，由指定的起点前往指定的终点，途中经过所有其他节点且只经过一次   </p>
</blockquote>
<p>Input  </p>
<blockquote>
<p>The input file starts with a number q (q&lt;&#x3D;20) on the first line, which is the number of test cases. Each test case starts with a line with two integers n and m, which are the number of islands and the number of bridges in the map, respectively. The next line contains n positive integers, the i-th number being the Vi value of island i. Each value is no more than 100. The following m lines are in the form x y, which indicates there is a (two way) bridge between island x and island y. Islands are numbered from 1 to n. You may assume there will be no more than 13 islands. </p>
</blockquote>
<p>Output </p>
<blockquote>
<p>For each test case, output a line with two numbers, separated by a space. The first number is the maximum value of a best triangular Hamilton path; the second number should be the number of different best triangular Hamilton paths. If the test case does not contain a Hamilton path, the output must be &#96;0 0’. </p>
</blockquote>
<blockquote>
<p>Note: A path may be written down in the reversed order. We still think it is the same path.</p>
</blockquote>
<p>Sample Input</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2</span><br><span class="line">3 3</span><br><span class="line">2 2 2</span><br><span class="line">1 2</span><br><span class="line">2 3</span><br><span class="line">3 1</span><br><span class="line">4 6</span><br><span class="line">1 2 3 4</span><br><span class="line">1 2</span><br><span class="line">1 3</span><br><span class="line">1 4</span><br><span class="line">2 3</span><br><span class="line">2 4</span><br><span class="line">3 4</span><br></pre></td></tr></table></figure>

<p>Sample Output</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">22 3</span><br><span class="line">69 1</span><br></pre></td></tr></table></figure>
<h2 id="思想"><a href="#思想" class="headerlink" title="思想"></a>思想</h2><p>显然，这是一道使用动态规划求解的题（符合重叠子问题原则）<br>如果要用朴素的方法建立数组实现，显然空间会炸。因此，这里要使用状态压缩。<br>每个点的状态由前两个点所决定，我们用F(s,i,j)表示状态为s时，当前点为i,上一个点为j是的最大价值。这个状态由F(s’,j,k)推导。<br>如何表示状态呢？二进制的某一位代表了这个位上的点的情况。若为1，则走过，若为0，则没有走过。<br>因此，我们可以推导出s’&#x3D;s-(1&lt;&lt;i)，回溯到了这一步之前一步的状态。<br>状态转移：F(s,i,j)&#x3D;max{F(s,i,j),F[s’,j,k]+tmp} tmp指的是加上的得分，即Vi<em>Vj+Vi,如果构成三角关系（i和k间有边）,tmp就要加上Vi</em>Vj<em>Vk<br>边界：F((1&lt;&lt;i)+(1&lt;&lt;j),i,j)&#x3D;Vi+Vj+Vi</em>Vj(i与j要有边）</p>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><ol>
<li>n&#x3D;1时，路径的条数是1 </li>
<li>技术要用_int64,因为有13个岛，即最多路径为2^13,超过int</li>
<li>最后输出路径的时候要除以2，因为题目说颠倒路径只算1条</li>
<li>如果哈密顿路不存在，输出“0 0”</li>
</ol>
<h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> #include &lt;cstdio&gt;</span><br><span class="line"> #include &lt;cstring&gt;</span><br><span class="line"> using namespace std;</span><br><span class="line"> int v[15],g[15][15];</span><br><span class="line"> long long f[1&lt;&lt;13][13][13],p[1&lt;&lt;13][13][13];</span><br><span class="line"> int main()&#123;</span><br><span class="line">  int t;</span><br><span class="line">  long long ans=0,sum=0,tmp=0,st=0;</span><br><span class="line">  scanf(&quot;%d&quot;,&amp;t);</span><br><span class="line">  while(t--)&#123;</span><br><span class="line">   ans=-1,sum=0;</span><br><span class="line">   memset(v,0,sizeof(v));</span><br><span class="line">   memset(g,0,sizeof(g));</span><br><span class="line">   memset(f,-1,sizeof(f));</span><br><span class="line">   memset(p,0,sizeof(p));</span><br><span class="line">   int n,m;</span><br><span class="line">   scanf(&quot;%d%d&quot;,&amp;n,&amp;m);</span><br><span class="line">   for(int i=0;i&lt;n;++i)scanf(&quot;%d&quot;,&amp;v[i]);</span><br><span class="line">   for(int i=0;i&lt;m;++i)&#123;</span><br><span class="line">    int x,y;</span><br><span class="line">    scanf(&quot;%d%d&quot;,&amp;x,&amp;y);</span><br><span class="line">    --x,--y;</span><br><span class="line">    g[x][y]=g[y][x]=1;</span><br><span class="line">   &#125;</span><br><span class="line">   if(n==1)&#123;//特殊情况 </span><br><span class="line">    printf(&quot;%d 1\n&quot;,v[0]);</span><br><span class="line">    continue;</span><br><span class="line">   &#125;</span><br><span class="line">   for(int i=0;i&lt;n;++i)&#123;//预处理 </span><br><span class="line">    for(int j=0;j&lt;n;++j)&#123;</span><br><span class="line">	    if(i!=j&amp;&amp;g[i][j])&#123;</span><br><span class="line">		    f[(1&lt;&lt;i)+(1&lt;&lt;j)][i][j]=v[i]+v[j]+v[i]*v[j];</span><br><span class="line">		    p[(1&lt;&lt;i)+(1&lt;&lt;j)][i][j]=1;</span><br><span class="line">	    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   for(long long s=0;s&lt;(1&lt;&lt;n);++s)&#123;//生成情况 </span><br><span class="line">    for(int i=0;i&lt;n;++i)&#123;</span><br><span class="line">	    if(s&amp;(1&lt;&lt;i))</span><br><span class="line">	    for(int j=0;j&lt;n;++j)&#123;</span><br><span class="line">		    if(i!=j&amp;&amp;g[i][j]&amp;&amp;s&amp;(1&lt;&lt;j))</span><br><span class="line">		    for(int k=0;k&lt;n;++k)&#123;</span><br><span class="line">			    if(i!=k&amp;&amp;j!=k&amp;&amp;s&amp;(1&lt;&lt;k)&amp;&amp;g[j][k])&#123;</span><br><span class="line">				    st=s-(1&lt;&lt;i);</span><br><span class="line">				    if(f[st][j][k]!=-1)&#123;//已经符合初始化的条件，即三步价值的第一步 </span><br><span class="line">					    tmp=v[i]+v[i]*v[j]+f[st][j][k];</span><br><span class="line">					    if(g[k][i])//成环情况</span><br><span class="line">					    tmp+=v[i]*v[j]*v[k];</span><br><span class="line">					    if(tmp&gt;f[s][i][j])&#123;//更新 </span><br><span class="line">						    f[s][i][j]=tmp;</span><br><span class="line">						    p[s][i][j]=p[st][j][k];//转移路径 </span><br><span class="line">					    &#125; </span><br><span class="line">					    else if(tmp==f[s][i][j])p[s][i][j]+=p[st][j][k];//对路径叠加 </span><br><span class="line">				    &#125;</span><br><span class="line">			    &#125;</span><br><span class="line">		    &#125;</span><br><span class="line">	    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   for(int i=0;i&lt;n;++i)&#123;</span><br><span class="line">    for(int j=0;j&lt;n;++j)&#123;</span><br><span class="line">	    if(i!=j)&#123;</span><br><span class="line">		    if(f[(1&lt;&lt;n)-1][i][j]&gt;ans)&#123;//(1&lt;&lt;n -1即全部走过的值</span><br><span class="line">		        ans=f[(1&lt;&lt;n)-1][i][j];</span><br><span class="line">		        sum=p[(1&lt;&lt;n)-1][i][j];</span><br><span class="line">		    &#125;</span><br><span class="line">		    else if(f[(1&lt;&lt;n)-1][i][j]==ans)</span><br><span class="line">		    sum+=p[(1&lt;&lt;n)-1][i][j];</span><br><span class="line">	    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   if(ans==-1)//无效情况</span><br><span class="line">   printf(&quot;0 0\n&quot;);</span><br><span class="line">   else</span><br><span class="line">   printf(&quot;%lld %lld\n&quot;,ans,sum/2); </span><br><span class="line">  &#125;</span><br><span class="line">  return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol>
<li>不理解题意是无法正确解题的核心原因。看不懂一个题往往比不会做更可怕</li>
<li>状压DP不错，但要酌情考虑，容易炸空间～～～</li>
<li>熟悉位运算可以带来很大便利<br>The End<br>本文系原创，未经作者许可禁止转载。</li>
</ol>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/algorithm/" rel="tag"># algorithm</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2018/12/25/minway2018/" rel="prev" title="单源最短路">
                  <i class="fa fa-chevron-left"></i> 单源最短路
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2019/03/30/binaryconvert2019/" rel="next" title="二分答案转化为判定">
                  二分答案转化为判定 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">tommy</span>
</div>

<!--
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>-->

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
